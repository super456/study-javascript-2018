<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>对象的封闭方法</title>
</head>
<body>
    <script>
    var obj={
        age:456,
        username:'dudu',
        address:'666'
    };
    console.log(obj);
    delete obj.age;//删除指定对象属性值
    console.log(obj);
    

    //将对象obj赋值给一个可封闭的对象o，相当于属性不可以配置（不能修改属性值）和对象不可扩展（不可以添加属性）
    var o=Object.seal(obj);
    console.log(obj===o);//true
    console.log(Object.isExtensible(o));//false

    //测试对象o是否可以添加属性
    obj.mail=123;
    console.log(obj.mail);//undefined

    //通过父级对象Object的方法来定义属性，以下代码会报错，因为不可扩展的原因
    // Object.defineProperty(obj,'username',{
    //     get:function(){
    //         return 'This is a test';
    //     }
    // });

    //对象o也添加、删除不了属性
    //通过父级对象定义会报错
    //注意封闭的对象是不可以解封的

    //判断对象是否被封闭：isSealed()
    console.log(Object.isSealed(obj));//true
    console.log(Object.isSealed(o));//true
    

    //查看对象及属性的描述
    console.log(Object.getOwnPropertyDescriptor(obj,'username'));

    </script>
</body>
</html>